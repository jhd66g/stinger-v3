import{r as y,a as W,g as J,b as S}from"./vendor-CDaM45aE.js";import{u as Y,a as F,L as b,b as q,R as K,c as P,B as X}from"./router-B2JxBPA9.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&t(m)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();var T={exports:{}},R={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z=y,ee=Symbol.for("react.element"),te=Symbol.for("react.fragment"),se=Object.prototype.hasOwnProperty,re=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ae={key:!0,ref:!0,__self:!0,__source:!0};function A(r,a,i){var t,n={},s=null,m=null;i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),a.ref!==void 0&&(m=a.ref);for(t in a)se.call(a,t)&&!ae.hasOwnProperty(t)&&(n[t]=a[t]);if(r&&r.defaultProps)for(t in a=r.defaultProps,a)n[t]===void 0&&(n[t]=a[t]);return{$$typeof:ee,type:r,key:s,ref:m,props:n,_owner:re.current}}R.Fragment=te;R.jsx=A;R.jsxs=A;T.exports=R;var e=T.exports,I={},$=W;I.createRoot=$.createRoot,I.hydrateRoot=$.hydrateRoot;const ne={},C=r=>{let a;const i=new Set,t=(c,p)=>{const v=typeof c=="function"?c(a):c;if(!Object.is(v,a)){const h=a;a=p??(typeof v!="object"||v===null)?v:Object.assign({},a,v),i.forEach(_=>_(a,h))}},n=()=>a,d={setState:t,getState:n,getInitialState:()=>u,subscribe:c=>(i.add(c),()=>i.delete(c)),destroy:()=>{(ne?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},u=a=r(t,n,d);return d},ie=r=>r?C(r):C;var B={exports:{}},H={},z={exports:{}},U={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N=y;function oe(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var le=typeof Object.is=="function"?Object.is:oe,ce=N.useState,de=N.useEffect,ue=N.useLayoutEffect,me=N.useDebugValue;function he(r,a){var i=a(),t=ce({inst:{value:i,getSnapshot:a}}),n=t[0].inst,s=t[1];return ue(function(){n.value=i,n.getSnapshot=a,M(n)&&s({inst:n})},[r,i,a]),de(function(){return M(n)&&s({inst:n}),r(function(){M(n)&&s({inst:n})})},[r]),me(i),i}function M(r){var a=r.getSnapshot;r=r.value;try{var i=a();return!le(r,i)}catch{return!0}}function ge(r,a){return a()}var ve=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ge:he;U.useSyncExternalStore=N.useSyncExternalStore!==void 0?N.useSyncExternalStore:ve;z.exports=U;var fe=z.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k=y,pe=fe;function _e(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var xe=typeof Object.is=="function"?Object.is:_e,je=pe.useSyncExternalStore,ye=k.useRef,be=k.useEffect,Ne=k.useMemo,we=k.useDebugValue;H.useSyncExternalStoreWithSelector=function(r,a,i,t,n){var s=ye(null);if(s.current===null){var m={hasValue:!1,value:null};s.current=m}else m=s.current;s=Ne(function(){function d(h){if(!u){if(u=!0,c=h,h=t(h),n!==void 0&&m.hasValue){var _=m.value;if(n(_,h))return p=_}return p=h}if(_=p,xe(c,h))return _;var f=t(h);return n!==void 0&&n(_,f)?(c=h,_):(c=h,p=f)}var u=!1,c,p,v=i===void 0?null:i;return[function(){return d(a())},v===null?void 0:function(){return d(v())}]},[a,i,t,n]);var l=je(r,s[0],s[1]);return be(function(){m.hasValue=!0,m.value=l},[l]),we(l),l};B.exports=H;var Se=B.exports;const Ee=J(Se),G={},{useDebugValue:Re}=S,{useSyncExternalStoreWithSelector:ke}=Ee;let L=!1;const Pe=r=>r;function Me(r,a=Pe,i){(G?"production":void 0)!=="production"&&i&&!L&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),L=!0);const t=ke(r.subscribe,r.getState,r.getServerState||r.getInitialState,a,i);return Re(t),t}const O=r=>{(G?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const a=typeof r=="function"?ie(r):r,i=(t,n)=>Me(a,t,n);return Object.assign(i,a),i},Ie=r=>r?O(r):O,$e={};function Ce(r,a){let i;try{i=r()}catch{return}return{getItem:n=>{var s;const m=d=>d===null?null:JSON.parse(d,void 0),l=(s=i.getItem(n))!=null?s:null;return l instanceof Promise?l.then(m):m(l)},setItem:(n,s)=>i.setItem(n,JSON.stringify(s,void 0)),removeItem:n=>i.removeItem(n)}}const w=r=>a=>{try{const i=r(a);return i instanceof Promise?i:{then(t){return w(t)(i)},catch(t){return this}}}catch(i){return{then(t){return this},catch(t){return w(t)(i)}}}},Le=(r,a)=>(i,t,n)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:o=>o,version:0,merge:(o,x)=>({...x,...o}),...a},m=!1;const l=new Set,d=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return r((...o)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),i(...o)},t,n);const c=w(s.serialize),p=()=>{const o=s.partialize({...t()});let x;const g=c({state:o,version:s.version}).then(j=>u.setItem(s.name,j)).catch(j=>{x=j});if(x)throw x;return g},v=n.setState;n.setState=(o,x)=>{v(o,x),p()};const h=r((...o)=>{i(...o),p()},t,n);let _;const f=()=>{var o;if(!u)return;m=!1,l.forEach(g=>g(t()));const x=((o=s.onRehydrateStorage)==null?void 0:o.call(s,t()))||void 0;return w(u.getItem.bind(u))(s.name).then(g=>{if(g)return s.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return s.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var j;return _=s.merge(g,(j=t())!=null?j:h),i(_,!0),p()}).then(()=>{x==null||x(_,void 0),m=!0,d.forEach(g=>g(_))}).catch(g=>{x==null||x(void 0,g)})};return n.persist={setOptions:o=>{s={...s,...o},o.getStorage&&(u=o.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>f(),hasHydrated:()=>m,onHydrate:o=>(l.add(o),()=>{l.delete(o)}),onFinishHydration:o=>(d.add(o),()=>{d.delete(o)})},f(),_||h},Oe=(r,a)=>(i,t,n)=>{let s={storage:Ce(()=>localStorage),partialize:f=>f,version:0,merge:(f,o)=>({...o,...f}),...a},m=!1;const l=new Set,d=new Set;let u=s.storage;if(!u)return r((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),i(...f)},t,n);const c=()=>{const f=s.partialize({...t()});return u.setItem(s.name,{state:f,version:s.version})},p=n.setState;n.setState=(f,o)=>{p(f,o),c()};const v=r((...f)=>{i(...f),c()},t,n);n.getInitialState=()=>v;let h;const _=()=>{var f,o;if(!u)return;m=!1,l.forEach(g=>{var j;return g((j=t())!=null?j:v)});const x=((o=s.onRehydrateStorage)==null?void 0:o.call(s,(f=t())!=null?f:v))||void 0;return w(u.getItem.bind(u))(s.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return[!0,s.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var j;const[Q,V]=g;if(h=s.merge(V,(j=t())!=null?j:v),i(h,!0),Q)return c()}).then(()=>{x==null||x(h,void 0),h=t(),m=!0,d.forEach(g=>g(h))}).catch(g=>{x==null||x(void 0,g)})};return n.persist={setOptions:f=>{s={...s,...f},f.storage&&(u=f.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>_(),hasHydrated:()=>m,onHydrate:f=>(l.add(f),()=>{l.delete(f)}),onFinishHydration:f=>(d.add(f),()=>{d.delete(f)})},s.skipHydration||_(),h||v},De=(r,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?(($e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Le(r,a)):Oe(r,a),Fe=De,E=Ie(Fe((r,a)=>({movies:[],loading:!1,error:null,filters:{services:[],genres:[],yearRange:[1900,new Date().getFullYear()+1],ratingRange:[0,100]},searchQuery:"",searchResults:[],sortBy:"title",sortOrder:"asc",currentPage:1,itemsPerPage:25,calculateOptimalItemsPerPage:()=>{const i=window.innerWidth;let t;return i<768?t=Math.floor(i/150):t=Math.floor((i-320)/160),t=Math.max(3,Math.min(8,t)),5*t},updateItemsPerPage:()=>{const{currentPage:i,itemsPerPage:t}=a(),n=a().calculateOptimalItemsPerPage(),s=a().getFilteredMovies(),m=(i-1)*t,l=Math.floor(m/n)+1;s.length<=n?r({itemsPerPage:s.length||n,currentPage:1}):r({itemsPerPage:n,currentPage:l})},loadMovies:async(i=0)=>{r({loading:!0,error:null});try{const t=await fetch("/movie_data.json",{cache:"force-cache"});if(!t.ok){if(t.status===429&&i<3)return await new Promise(s=>setTimeout(s,(i+1)*2e3)),a().loadMovies(i+1);throw new Error(`Failed to load movie data (${t.status})`)}const n=await t.json();r({movies:n.movies||[],loading:!1})}catch(t){if(i<2)return await new Promise(n=>setTimeout(n,(i+1)*1e3)),a().loadMovies(i+1);r({error:`${t.message}. Please refresh the page to try again.`,loading:!1})}},setFilters:i=>{r({filters:{...a().filters,...i},currentPage:1}),a().updateItemsPerPage()},setSearchQuery:i=>{r({searchQuery:i,currentPage:1}),a().updateItemsPerPage()},setSorting:(i,t)=>{r({sortBy:i,sortOrder:t})},setPage:i=>{r({currentPage:i})},getFilteredMovies:()=>{const{movies:i,filters:t,searchQuery:n,sortBy:s,sortOrder:m}=a();let l=[...i];if(n.trim()){const d=n.toLowerCase();l=l.filter(u=>u.title.toLowerCase().includes(d)||u.cast.some(c=>c.toLowerCase().includes(d))||u.director.toLowerCase().includes(d)||u.keywords.some(c=>c.toLowerCase().includes(d)))}return t.services.length>0&&(l=l.filter(d=>d.streaming.some(u=>t.services.includes(u.service)))),t.genres.length>0&&(l=l.filter(d=>d.genres.some(u=>t.genres.includes(u)))),l=l.filter(d=>d.release_year>=t.yearRange[0]&&d.release_year<=t.yearRange[1]),l=l.filter(d=>d.ratings.rt_tomatometer>=t.ratingRange[0]&&d.ratings.rt_tomatometer<=t.ratingRange[1]),l.sort((d,u)=>{let c,p;switch(s){case"title":c=d.title.toLowerCase(),p=u.title.toLowerCase();break;case"popularity":c=d.ratings.tmdb_popularity,p=u.ratings.tmdb_popularity;break;case"rating":c=d.ratings.rt_tomatometer,p=u.ratings.rt_tomatometer;break;case"year":c=d.release_year,p=u.release_year;break;default:c=d.title.toLowerCase(),p=u.title.toLowerCase()}return m==="asc"?c>p?1:-1:c<p?1:-1}),l},getPaginatedMovies:()=>{const i=a().getFilteredMovies(),{currentPage:t,itemsPerPage:n}=a(),s=(t-1)*n;return i.slice(s,s+n)},getTotalPages:()=>{const i=a().getFilteredMovies();return Math.ceil(i.length/a().itemsPerPage)},isLastPage:()=>{const{currentPage:i}=a();return i===a().getTotalPages()},getAvailableServices:()=>{const{movies:i}=a(),t=new Set;return i.forEach(n=>{n.streaming.forEach(s=>{t.add(s.service)})}),Array.from(t).sort()},getAvailableGenres:()=>{const{movies:i}=a(),t=new Set;return i.forEach(n=>{n.genres.forEach(s=>{t.add(s)})}),Array.from(t).sort()},getMovieById:i=>{const{movies:t}=a();return t.find(n=>n.id===parseInt(i))}}),{name:"stinger-store",partialize:r=>({filters:r.filters,searchQuery:r.searchQuery,sortBy:r.sortBy,sortOrder:r.sortOrder})})),Te=()=>{var v;const r=Y(),a=F(),{searchQuery:i,setSearchQuery:t,sortBy:n,sortOrder:s,setSorting:m}=E(),l=r.pathname==="/",d=r.pathname.startsWith("/movie/")||r.pathname==="/about",u=h=>{n===h?m(h,s==="asc"?"desc":"asc"):m(h,"desc")},c=()=>{m(n,s==="asc"?"desc":"asc")},p=[{value:"title",label:"Sort by Title"},{value:"year",label:"Sort by Year"},{value:"rating",label:"Sort by Rating"},{value:"popularity",label:"Sort by Popularity"}];return e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header__content",children:[e.jsx("div",{className:"header__left",children:e.jsx(b,{to:"/",className:"header__logo",children:e.jsx("h1",{children:"SOMETHING TO STREAM"})})}),e.jsx("div",{className:"header__options",children:e.jsxs("div",{className:"header__right",children:[d?e.jsx("button",{onClick:()=>a(-1),className:"header__nav-link",children:"â† Back"}):e.jsx(b,{to:"/about",className:"header__nav-link",children:"About"}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"header__sort-controls",children:[e.jsxs("div",{className:"header__sort-dropdown",children:[e.jsx("button",{className:"header__sort-select",children:(v=p.find(h=>h.value===n))==null?void 0:v.label}),e.jsx("div",{className:"header__sort-dropdown-menu",children:p.map(h=>e.jsx("button",{onClick:()=>u(h.value),className:`header__sort-dropdown-item ${n===h.value?"active":""}`,children:h.label},h.value))})]}),e.jsx("button",{onClick:c,className:"header__sort-button",children:s==="asc"?"â†‘":"â†“"})]}),e.jsxs("div",{className:"header__search",children:[e.jsx("input",{type:"text",placeholder:"Search movies...",value:i,onChange:h=>t(h.target.value),className:"header__search-input"}),i&&e.jsx("button",{onClick:()=>t(""),className:"header__search-clear",children:"Ã—"})]})]})]})})]})})},Ae=({movie:r})=>{var s;const[a,i]=y.useState(!1),t=()=>{i(!0)},n=m=>{m.target.src="/placeholder-poster.jpg",i(!0)};return e.jsxs(b,{to:`/movie/${r.id}`,className:"movie-card",children:[e.jsx("div",{className:"movie-card__poster-container",children:e.jsx("img",{src:((s=r.media)==null?void 0:s.poster)||"/placeholder-poster.jpg",alt:r.title,className:`movie-card__poster ${a?"loaded":""}`,loading:"lazy",onLoad:t,onError:n})}),e.jsxs("div",{className:"movie-card__content",children:[e.jsx("h3",{className:"movie-card__title",children:r.title}),e.jsx("div",{className:"movie-card__year",children:r.release_year})]})]})},D=({min:r,max:a,value:i,onChange:t,formatValue:n=s=>s})=>{const[s,m]=y.useState(null),l=y.useRef(null),[d,u]=i,c=v=>(v-r)/(a-r)*100;y.useEffect(()=>{const v=_=>{if(!s||!l.current)return;const f=l.current.getBoundingClientRect(),o=Math.max(0,Math.min(100,(_.clientX-f.left)/f.width*100)),x=Math.round(o/100*(a-r)+r);if(s==="min"){const g=Math.min(x,u-1);t([g,u])}else{const g=Math.max(x,d+1);t([d,g])}},h=()=>{m(null)};return s&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",h)),()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",h)}},[s,a,r,u,d,t]);const p=(v,h)=>{m(h)};return e.jsxs("div",{className:"range-slider",children:[e.jsxs("div",{ref:l,className:"range-slider__track",style:{position:"relative"},children:[e.jsx("div",{className:"range-slider__fill",style:{left:`${c(d)}%`,width:`${c(u)-c(d)}%`}}),e.jsx("div",{className:"range-slider__thumb",style:{left:`${c(d)}%`},onMouseDown:v=>p(v,"min")}),e.jsx("div",{className:"range-slider__thumb",style:{left:`${c(u)}%`},onMouseDown:v=>p(v,"max")})]}),e.jsxs("div",{className:"range-slider__values",children:[e.jsx("span",{children:n(d)}),e.jsx("span",{children:n(u)})]})]})},Be=()=>{const{filters:r,setFilters:a,getAvailableServices:i,getAvailableGenres:t}=E(),[n,s]=y.useState({services:!1,genres:!1,year:!1,rating:!1}),m=i(),l=t(),d=o=>{const x=r.services.includes(o)?r.services.filter(g=>g!==o):[...r.services,o];a({services:x})},u=o=>{const x=r.genres.includes(o)?r.genres.filter(g=>g!==o):[...r.genres,o];a({genres:x})},c=o=>{a({yearRange:o})},p=o=>{a({ratingRange:o})},v=o=>{s(x=>({...x,[o]:!x[o]}))},h=()=>{a({services:[]})},_=()=>{a({genres:[]})},f=()=>{a({services:[],genres:[],yearRange:[1900,new Date().getFullYear()+1],ratingRange:[0,100]})};return e.jsxs("div",{className:"filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsxs("div",{className:"filter-group__header",onClick:()=>v("services"),children:[e.jsx("label",{className:"filter-group__label",children:"Streaming Services"}),e.jsx("span",{className:`filter-group__toggle ${n.services?"collapsed":""}`,children:"â–¼"})]}),!n.services&&e.jsxs("div",{className:"filter-group__content",children:[m.map(o=>e.jsxs("div",{className:"filter-checkbox","data-service":o,children:[e.jsx("input",{type:"checkbox",id:`service-${o}`,checked:r.services.includes(o),onChange:()=>d(o)}),e.jsx("label",{htmlFor:`service-${o}`,children:o})]},o)),r.services.length>0&&e.jsx("button",{onClick:h,className:"btn btn-ghost btn-sm filter-clear",children:"Clear"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("div",{className:"filter-group__header",onClick:()=>v("genres"),children:[e.jsx("label",{className:"filter-group__label",children:"Genres"}),e.jsx("span",{className:`filter-group__toggle ${n.genres?"collapsed":""}`,children:"â–¼"})]}),!n.genres&&e.jsxs("div",{className:"filter-group__content",children:[l.map(o=>e.jsxs("div",{className:"filter-checkbox",children:[e.jsx("input",{type:"checkbox",id:`genre-${o}`,checked:r.genres.includes(o),onChange:()=>u(o)}),e.jsx("label",{htmlFor:`genre-${o}`,children:o})]},o)),r.genres.length>0&&e.jsx("button",{onClick:_,className:"btn btn-ghost btn-sm filter-clear",children:"Clear"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("div",{className:"filter-group__header",onClick:()=>v("year"),children:[e.jsx("label",{className:"filter-group__label",children:"Release Year"}),e.jsx("span",{className:`filter-group__toggle ${n.year?"collapsed":""}`,children:"â–¼"})]}),!n.year&&e.jsx("div",{className:"filter-group__content",children:e.jsx(D,{min:1900,max:2025,value:r.yearRange,onChange:c,formatValue:o=>o})})]}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("div",{className:"filter-group__header",onClick:()=>v("rating"),children:[e.jsx("label",{className:"filter-group__label",children:"Rotten Tomatoes Rating"}),e.jsx("span",{className:`filter-group__toggle ${n.rating?"collapsed":""}`,children:"â–¼"})]}),!n.rating&&e.jsx("div",{className:"filter-group__content",children:e.jsx(D,{min:0,max:100,value:r.ratingRange,onChange:p,formatValue:o=>`${o}%`})})]}),e.jsx("div",{className:"filters__footer",children:e.jsx("button",{onClick:f,className:"btn btn-ghost btn-sm",children:"Reset All"})})]})},He=({currentPage:r,totalPages:a,onPageChange:i})=>{const n=(()=>{const s=[];if(a<=5)for(let l=1;l<=a;l++)s.push(l);else if(r<=3){for(let l=1;l<=4;l++)s.push(l);s.push("..."),s.push(a)}else if(r>=a-2){s.push(1),s.push("...");for(let l=a-3;l<=a;l++)s.push(l)}else{s.push(1),s.push("...");for(let l=r-1;l<=r+1;l++)s.push(l);s.push("..."),s.push(a)}return s})();return e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"pagination-button",onClick:()=>i(r-1),disabled:r===1,children:"Previous"}),n.map((s,m)=>e.jsx(S.Fragment,{children:s==="..."?e.jsx("span",{className:"pagination-ellipsis",children:"..."}):e.jsx("button",{className:`pagination-button ${r===s?"active":""}`,onClick:()=>i(s),children:s})},m)),e.jsx("button",{className:"pagination-button",onClick:()=>i(r+1),disabled:r===a,children:"Next"})]})},ze=()=>e.jsx("div",{className:"loading-overlay",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading movies..."})]})}),Ue=()=>{const{movies:r,loading:a,error:i,getFilteredMovies:t,getPaginatedMovies:n,getTotalPages:s,isSinglePage:m,isLastPage:l,currentPage:d,setPage:u,updateItemsPerPage:c}=E(),[p,v]=y.useState(!1);S.useEffect(()=>{c();const o=()=>{c()};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[c]);const h=t(),_=n(),f=s();return a?e.jsx(ze,{}):i?e.jsxs("div",{className:"error-container",children:[e.jsx("h1",{children:"Error Loading Movies"}),e.jsx("p",{children:i})]}):e.jsxs("div",{className:`layout ${p?"":"sidebar-collapsed"}`,children:[e.jsx("aside",{className:`sidebar ${p?"open":""}`,children:e.jsx(Be,{})}),e.jsx("div",{className:`mobile-overlay ${p?"open":""}`,onClick:()=>v(!1)}),e.jsxs("main",{className:"content",children:[e.jsxs("div",{className:"results-info",children:[e.jsx("button",{className:"mobile-menu-toggle",onClick:()=>v(!p),"aria-label":"Toggle filters",children:"â˜°"}),e.jsxs("div",{className:"results-count",children:[h.length.toLocaleString()," results found"]})]}),h.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state__icon",children:"ðŸŽ¬"}),e.jsx("h2",{className:"empty-state__title",children:"No movies found"}),e.jsx("p",{className:"empty-state__message",children:"Try adjusting your filters or search terms."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`movie-grid ${l()?"movie-grid--single-page":""}`,children:_.map(o=>e.jsx(Ae,{movie:o},o.id))}),f>1&&e.jsx(He,{currentPage:d,totalPages:f,onPageChange:u})]})]})]})},Ge=()=>{const{id:r}=q();F();const{getMovieById:a,getFilteredMovies:i}=E(),t=a(r),n=i();if(y.useEffect(()=>{window.scrollTo(0,0)},[r]),!t)return e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state__icon",children:"ðŸŽ¬"}),e.jsx("h2",{className:"empty-state__title",children:"Movie Not Found"}),e.jsx("p",{className:"empty-state__message",children:"The movie you're looking for doesn't exist or has been removed."}),e.jsx(b,{to:"/",className:"btn btn-primary",children:"Back to Movies"})]});const s=n.findIndex(c=>c.id===t.id),m=s>0?n[s-1]:null,l=s<n.length-1?n[s+1]:null,d=c=>!c||c===0?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(c),u=c=>{if(!c||c===0)return"N/A";const p=Math.floor(c/60),v=c%60;return`${p}h ${v}m`};return e.jsx("div",{className:"movie-details",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"movie-details__hero",children:[e.jsx("div",{className:"movie-details__poster",children:e.jsx("img",{src:t.media.poster||"/placeholder-poster.jpg",alt:`${t.title} poster`,className:"movie-details__poster-img"})}),e.jsxs("div",{className:"movie-details__info",children:[e.jsxs("h1",{className:"movie-details__title",children:[t.title," (",t.release_year,")"]}),e.jsxs("div",{className:"movie-details__meta",children:[e.jsx("span",{className:"movie-details__rating",children:t.mpa_rating}),e.jsx("span",{className:"movie-details__runtime",children:u(t.runtime_min)}),e.jsx("span",{className:"movie-details__genres",children:t.genres.join(", ")})]}),t.overview&&e.jsx("p",{className:"movie-details__overview",children:t.overview}),e.jsxs("div",{className:"movie-details__grid",children:[e.jsxs("div",{className:"movie-details__section",children:[t.director&&e.jsxs("div",{className:"movie-details__crew",children:[e.jsx("strong",{children:"Director:"})," ",t.director]}),t.cast.length>0&&e.jsxs("div",{className:"movie-details__cast",children:[e.jsx("strong",{children:"Cast:"})," ",t.cast.join(", ")]}),t.streaming.length>0&&e.jsxs("div",{className:"movie-details__streaming",children:[e.jsx("strong",{children:"Available on:"})," ",t.streaming.map((c,p)=>{const v=(h,_,f)=>{const o=encodeURIComponent(_.replace(/\s+/g,"+"));switch(h.toLowerCase()){case"netflix":return`https://www.netflix.com/search?q=${encodeURIComponent(_)}`;case"disney+":return"https://www.disneyplus.com/en-gb/browse/search";case"hulu":return"https://www.hulu.com/search";case"hbo max":case"max":return`https://play.hbomax.com/search/result?q=${o}`;case"paramount+":return"https://www.paramountplus.com/search/";case"apple tv+":return`https://tv.apple.com/us/search?term=${encodeURIComponent(_.toLowerCase())}`;case"peacock":return"https://www.peacocktv.com/watch/search";default:return`https://www.google.com/search?q=${encodeURIComponent(`${_} ${f}`)}+streaming`}};return e.jsxs("span",{children:[e.jsx("a",{href:v(c.service,t.title,t.release_year),target:"_blank",rel:"noopener noreferrer",className:`streaming-service-link ${c.service.toLowerCase().replace(/\s+/g,"").replace("+","")}`,style:{textDecoration:"none",color:"inherit"},children:c.service}),p<t.streaming.length-1?", ":""]},p)})]})]}),e.jsxs("div",{className:"movie-details__section",children:[t.production_companies.length>0&&e.jsxs("div",{className:"movie-details__companies",children:[e.jsx("strong",{children:"Production Companies:"})," ",t.production_companies.join(", ")]}),e.jsxs("div",{className:"movie-details__language",children:[e.jsx("strong",{children:"Original Language:"})," ",t.original_language]}),e.jsxs("div",{className:"movie-details__budget",children:[e.jsx("strong",{children:"Budget:"})," ",d(t.budget_usd)]}),e.jsxs("div",{className:"movie-details__revenue",children:[e.jsx("strong",{children:"Revenue:"})," ",d(t.revenue_usd)]}),e.jsxs("div",{className:"movie-details__ratings",children:[t.ratings.rt_tomatometer>0&&e.jsxs("div",{className:"movie-details__rating-item",children:[e.jsx("strong",{children:"Tomatometer"}),e.jsxs("span",{className:"movie-details__rating-score",children:[t.ratings.rt_tomatometer,"%"]})]}),t.ratings.rt_audience>0&&e.jsxs("div",{className:"movie-details__rating-item",children:[e.jsx("strong",{children:"Audience Score"}),e.jsxs("span",{className:"movie-details__rating-score",children:[t.ratings.rt_audience,"%"]})]})]})]})]})]})]}),e.jsx("div",{className:"movie-details__content",children:t.media.trailer_youtube&&e.jsx("div",{className:"movie-details__trailer",children:e.jsx("div",{className:"movie-details__video-container",children:e.jsx("iframe",{src:`${t.media.trailer_youtube.replace("watch?v=","embed/")}?autoplay=0&showinfo=0&controls=1&modestbranding=1&rel=0&iv_load_policy=3`,title:`${t.title} trailer`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})}),e.jsxs("div",{className:"movie-details__navigation",children:[m&&e.jsxs(b,{to:`/movie/${m.id}`,className:"pagination-button",children:["â† ",m.title]}),l&&e.jsxs(b,{to:`/movie/${l.id}`,className:"pagination-button",children:[l.title," â†’"]})]})]})})},Qe=()=>e.jsx("div",{className:"about",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"about__content",children:[e.jsxs("p",{children:[e.jsx("strong",{children:e.jsx("em",{children:"SOMETHING TO STREAM"})})," is a fast, easy-to-use website that helps you find where to stream your favorite movies. It aggregates the libraries of streaming services like"," ",e.jsx("a",{href:"https://tv.apple.com",className:"streaming-link apple-tv",target:"_blank",rel:"noopener noreferrer",children:"Apple TV+"}),","," ",e.jsx("a",{href:"https://www.disneyplus.com",className:"streaming-link disney-plus",target:"_blank",rel:"noopener noreferrer",children:"Disney+"}),","," ",e.jsx("a",{href:"https://www.max.com",className:"streaming-link hbo-max",target:"_blank",rel:"noopener noreferrer",children:"HBO Max"}),","," ",e.jsx("a",{href:"https://www.hulu.com",className:"streaming-link hulu",target:"_blank",rel:"noopener noreferrer",children:"Hulu"}),","," ",e.jsx("a",{href:"https://www.netflix.com",className:"streaming-link netflix",target:"_blank",rel:"noopener noreferrer",children:"Netflix"}),","," ",e.jsx("a",{href:"https://www.paramountplus.com",className:"streaming-link paramount-plus",target:"_blank",rel:"noopener noreferrer",children:"Paramount+"}),", and"," ",e.jsx("a",{href:"https://www.peacocktv.com",className:"streaming-link peacock",target:"_blank",rel:"noopener noreferrer",children:"Peacock"}),", and displays them in a simple grid, letting users filter as they wish."]}),e.jsxs("p",{children:["The website maintains an up-to-date database fetching movie data from"," ",e.jsx("a",{href:"https://www.themoviedb.org",className:"external-link",target:"_blank",rel:"noopener noreferrer",children:"The Movie Database (TMDB)"}),", ratings from"," ",e.jsx("a",{href:"https://www.rottentomatoes.com",className:"external-link",target:"_blank",rel:"noopener noreferrer",children:"Rotten Tomatoes"}),", and trailers from"," ",e.jsx("a",{href:"https://www.youtube.com",className:"external-link",target:"_blank",rel:"noopener noreferrer",children:"YouTube"}),"."]}),e.jsx("p",{children:"More features coming soon â€¦"}),e.jsx("p",{children:"Enjoy!"}),e.jsx("p",{children:"- Jack D"}),e.jsx("div",{className:"about__actions",children:e.jsx(b,{to:"/",className:"btn btn-primary",children:"Start Discovering Movies"})})]})})});function Ve(){const{movies:r,loading:a,error:i,loadMovies:t}=E();return S.useEffect(()=>{r.length===0&&!a&&t()},[r.length,a,t]),i?e.jsxs("div",{className:"error-container",children:[e.jsx("h1",{children:"Error Loading Movies"}),e.jsx("p",{children:i}),e.jsx("button",{onClick:t,children:"Retry"})]}):e.jsxs("div",{className:"app",children:[e.jsx(Te,{}),e.jsx("main",{className:"main-content",children:e.jsxs(K,{children:[e.jsx(P,{path:"/",element:e.jsx(Ue,{})}),e.jsx(P,{path:"/movie/:id",element:e.jsx(Ge,{})}),e.jsx(P,{path:"/about",element:e.jsx(Qe,{})})]})})]})}I.createRoot(document.getElementById("root")).render(e.jsx(S.StrictMode,{children:e.jsx(X,{children:e.jsx(Ve,{})})}));
